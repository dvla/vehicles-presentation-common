@(feedbackForm: Form[uk.gov.dvla.vehicles.presentation.common.model.FeedbackForm])(implicit lang: Lang,
        token: uk.gov.dvla.vehicles.presentation.common.filters.CsrfPreventionAction.CsrfPreventionToken,
        controls: Map[String, Call])

@import views.html.helper.form
@import uk.gov.dvla.vehicles.presentation.common
@import common.views.html.widgets.base.csrfTokenHiddenField
@import common.views.html.widgets.base.{ valtechInputTextArea, valtechInputText}
@import common.mappings.Email.EmailMaxLength
@import common.model.FeedbackForm.Form.{feedback, nameMapping, emailMapping}
@import common.views.helpers.BaseTemplate.fieldConstructor

@form(action = controls("submit")) {
  @csrfTokenHiddenField()

  <p>@Messages("common_feedback.message")</p>
  <p>@Messages("common_feedback.label")</p>

  <dl class="playback" id="feedback-form">
    <dl>
    @valtechInputTextArea(feedbackForm(feedback),
      args = Map(
        '_label -> "",
        '_showConstraints -> false,
        'maxLength -> "500",
        'showErrors -> true))
    </dl>

    <dl>
      <p><span class="character-countdown">500</span>&nbsp;@Messages("common_feedback.charactersRemaining")</p>
    </dl>

    <dl>
      <p>@Messages("common_feedback.feedbackTitle")</p>
    </dl>

    <dl>
    @valtechInputText(feedbackForm(nameMapping),
      hintText = Some(Messages("")),
      args =  Map('_label -> Messages("common_feedback.name"),
        '_showConstraints -> false)
    )
    </dl>

    <dl>
    @valtechInputText(feedbackForm(emailMapping),
      hintText = Some(Messages("")),
      args = Map('_label -> Messages("common_feedback.email"),
        '_showConstraints -> false,
        'maxLength -> EmailMaxLength
      )
    )

    </dl>
  </dl>

  <div class="form-steps">

    <button id="submit" type="submit" name="action" class="button">
    @Messages("common_feedback.submit_button")
    </button>

  </div>
}
