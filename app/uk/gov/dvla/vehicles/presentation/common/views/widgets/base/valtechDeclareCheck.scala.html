@(field: play.api.data.Field, hintText: Option[String] = None, args: Map[Symbol, Any])(implicit handler: helper.FieldConstructor, lang: Lang)

@import uk.gov.dvla.vehicles.presentation.common.views
@import views.constraints.Required.RequiredField
@import play.api.templates.PlayMagic.toHtmlArgs
@import views.helpers.HtmlArgsExtensions.RichHtmlArgs
@import views.html.widgets.base.valtechLabelText
@import _root_.views.html.helper.input
@import views.html.widgets.base.hintTextSnippet

@boxValue = @{ args.toMap.getOrElse('value, "true") } @*TODO make a helper extension method for this.*@

@input(field, args.toSeq: _*) { (id, name, value, htmlArgs) =>

<label class="form-checkbox selectable">
    <input
           id="@id"
           name="@name"
           @toHtmlArgs(
               htmlArgs.valueElseTrue.
                       checkedWhenValueMatches(value).
                       withAriaDescribedby(hintText, id).
                       withTypeAttributeCheckbox.
                       withAriaInvalid(field.hasErrors).
                       withAriaRequired(field.constraints)
           )
    >

    @valtechLabelText(field,args)
</label>

@hintTextSnippet(hintText, idOfRelatedInput = id)
}
