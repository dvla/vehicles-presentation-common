@(field: play.api.data.Field, hintText: Option[String] = None, args: Map[Symbol, Any])(implicit handler: helper.FieldConstructor, lang: Lang)

@import uk.gov.dvla.vehicles.presentation.common.views
@import views.constraints.Required.RequiredField
@import play.api.templates.PlayMagic.toHtmlArgs
@import views.helpers.HtmlArgsExtensions.RichHtmlArgs
@import views.html.widgets.base.valtechLabelText
@import _root_.views.html.helper.input
@import views.html.widgets.base.hintTextSnippet

@input(field, args.toSeq: _*) { (id, name, value, htmlArgs) =>
        @if(args.contains('tooltipText)) {
            <label class="form-checkbox with-tooltip selectable">
        } else {
            <label class="form-checkbox selectable">
        }
        <input
               id="@id"
               name="@name"
               @toHtmlArgs(
                   htmlArgs.valueElseTrue.
                           checkedWhenValueMatches(value).
                           withAriaDescribedby(hintText, id).
                           withTypeAttributeCheckbox.
                           withAriaInvalid(field.hasErrors).
                           withAriaRequired(field.constraints)
               )
        >

        @valtechLabelText(field,args)
    </label>

    @hintTextSnippet(hintText, idOfRelatedInput = id)

    @if(args.contains('tooltipText)) {
        <span class="tooltip-icon-declare">
            <a href="?#@id" tabindex="-1" class="field-help js-only" data-tooltip="tooltip_@id" aria-hidden="true">
                <span class="field-help-icon">i</span>
                <span class="field-help-close" >Close</span>
            </a>
        </span>
        <div class="field-help-content no-js-only" data-tooltip="tooltip_@id">
            <div class="panel-indent-wrapper">
                <div class="panel-indent">
                    <p>@args('tooltipText)</p>
                </div>
            </div>
        </div>
    }
}
