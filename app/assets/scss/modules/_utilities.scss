//utilities

@function phase-colour($phase) {
    @if $phase == "alpha" { @return $alpha-colour; }
    @if $phase == "beta" { @return $beta-colour; }
    @else { @return $govuk-blue;  }
}

@function phase-tag-colour($phase) {
    @if $phase == "alpha" { @return $alpha-colour }
    @if $phase == "beta" { @return $beta-colour }
    @else { @return $beta-colour; }
}

@mixin clearfix {
    &:before,
    &:after {
        content: " ";
        display: table;
    }
    &:after {
        clear: both;
    }
}

//CSS for hiding elements visually but not for screen readers
@mixin sr-only {
    position: absolute;
    top:0;
    left:-9999px;
}

@mixin to-uppercase {
    text-transform:uppercase;
}

//playback item width for one column
@mixin playback-list-item-base {
    dt, dd {
        @include copy-19;
        padding-top:0;
        margin-bottom:0;
    }
    p,
    dd {
        //prevent long text from breaking out of container. see:
        //css-tricks.com/snippets/css/prevent-long-urls-from-breaking-out-of-container/
        -ms-word-break:break-all;
        word-break:break-all;
        word-break:break-word;
        word-wrap:break-word;
        webkit-hyphens:auto;
        -moz-hyphens:auto;
        hyphens:auto;
    }
    dt {
        padding-bottom:5px;
    }
    dd {
        @include to-uppercase;
        font-weight:bold;
        padding-bottom:10px;
        &:last-child {
            padding-bottom:0;
        }
    }
    p {
        margin:0;
    }
    dt,
    dd,
    p {
        clear:both;
        width:100%;
        font-size:15px;
        @include box-sizing(border-box);
    }
}

//playback - this could be a DL element, or a wrapping div
@mixin playback() {
    .playback {
        @include clearfix;
        @include box-sizing(border-box);
        @include playback-list-item-base;
        width:50%;
        margin:0 0 20px 0;
        padding:0;
        background:none;
        @media screen and (max-width:$device-small) {
            margin:0 0 10px 0;
        }
        @media screen and (max-width:$device-medium - 1px) {
            width:50%;
        }
        @media screen and (max-width:$device-small) {
            width:100%;
        }
    }

    .first-col .playback {
        width:100%;
        background:$light-blue-25;
        padding:1em;
        dt,
        dd,
        p {
            font-size:15px;
        }
    }
    .second-col .playback {
        dt,
        dd,
        p {
            font-size:19px;
            @media screen and (max-width:$device-small) {
                font-size:16px;
            }
        }
    }
}

//img wrapper to show-hide mobile/desktop images
@mixin img-multi-wrap($max-width){
    clear:both;
    img {
        width:100%;
        max-width:$max-width;
        .ie6 & {
            width:$max-width;
            border:0 none;
        }
    }
    &.img-wrap-mobile {
        display:none;
    }
    @media screen and (max-width:$device-medium) {
        &.img-wrap-mobile {
            display:block;
            img {
                display:inline-block;
                vertical-align:top;
                margin:0 0 2.2em 0;
                text-align:left;
            }
        }
        &.img-wrap-desktop {
            display:none;
        }
    }
    @media screen and (max-width:$device-small) {
        &.img-wrap-mobile img {
          display:block;
          margin-left:auto;
          margin-right:auto;
        }
    }
}